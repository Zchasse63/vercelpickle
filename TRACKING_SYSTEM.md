# Pickle B2B Marketplace Refactoring Tracking System

This document explains how to use the refactoring tracking system for the Pickle B2B Marketplace project.

## Overview

The tracking system consists of three main components:

1. **Refactoring Status Checklist**: A Markdown file (`REFACTORING_STATUS.md`) that lists all refactoring tasks and their status.
2. **Automated Tracking Script**: A Node.js script that automatically updates the checklist when tasks are completed.
3. **Visual Progress Dashboard**: An HTML dashboard that visualizes the progress of the refactoring project.

## Setup Instructions

### 1. Install Dependencies

```bash
# Install required Node.js packages
npm install date-fns husky --save-dev

# Set up Husky
npx husky install
chmod +x .husky/post-commit
```

### 2. Configure Git Hooks

The post-commit hook is already set up to run the tracking script automatically after each commit. Make sure it's executable:

```bash
chmod +x .husky/post-commit
```

## Using the Tracking System

### Marking Tasks as Completed

When you complete a refactoring task, use the following commit message format:

```
[Complete] <section>: <task description>
```

For example:
```
[Complete] Marketplace: Implement lazy loading for product grid
```

The tracking script will automatically update the `REFACTORING_STATUS.md` file based on your commit message.

### Viewing the Status Checklist

The `REFACTORING_STATUS.md` file contains a detailed checklist of all refactoring tasks, organized by section. It shows:

- Which tasks have been completed (with dates and commit IDs)
- Which tasks are still pending
- Progress percentages for each section and overall

### Using the Visual Dashboard

To view the visual dashboard:

1. Open the `dashboard/index.html` file in your browser
2. The dashboard shows:
   - Overall progress of the refactoring project
   - Progress for each section
   - List of tasks for each section with their status
   - Current focus area highlighted

To update the dashboard data manually:

```bash
node scripts/update-dashboard.js
```

## Tracking System Files

- `REFACTORING_STATUS.md`: The main status checklist
- `scripts/update-refactoring-status.js`: Script to update the status checklist
- `scripts/update-dashboard.js`: Script to update the dashboard data
- `.husky/post-commit`: Git hook to run the tracking script after commits
- `dashboard/index.html`: Visual dashboard
- `dashboard/data.json`: Dashboard data (generated by the script)

## Commit Message Format

The tracking script recognizes the following commit message format:

```
[Complete] <section>: <task description>
```

Where:
- `<section>` is one of: Checkout, Buyer Dashboard, Seller Dashboard, Admin Dashboard, Marketplace, Home Page, Type Definitions, Data Access Layer
- `<task description>` should match the task description in the checklist

## Troubleshooting

If the tracking script doesn't update the status file correctly:

1. Check that your commit message follows the correct format
2. Run the script manually: `node scripts/update-refactoring-status.js`
3. Check the console output for any errors

If the dashboard doesn't display correctly:

1. Update the dashboard data manually: `node scripts/update-dashboard.js`
2. Check that the `dashboard/data.json` file exists and contains valid JSON
3. Open the browser console for any JavaScript errors

## Adding New Tasks

To add new tasks to the tracking system:

1. Edit the `REFACTORING_STATUS.md` file
2. Add the new task to the appropriate section
3. Follow the existing format: `| Task description | â¬œ Pending | - | - |`
4. Run `node scripts/update-dashboard.js` to update the dashboard
